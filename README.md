# Prisma Studio Pro Tab Closer

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Version](https://img.shields.io/badge/version-1.0-blue.svg)](#)

A Tampermonkey UserScript that enhances Prisma Studio with a "Close All Tabs" button. It's context-aware, styled natively, and features a custom, animated confirmation modal for a seamless user experience.

(A COMPLETELY UNNECESSARY FEATURE, PERFECT FOR THOSE WHO PREFER TO BE EXTRA LAZY)

![0724 (1)](https://github.com/user-attachments/assets/f02af5ce-9d27-4fda-a45b-26372cbff862)


---

## Features

-   **Context-Aware Button**: The "Close All Tabs" icon only appears when you have more than one tab open, keeping the UI clean.
-   **Native Styling**: The button uses Prisma Studio's own CSS classes to look and feel like a native part of the application.
-   **Custom Animated Modal**: Replaces the ugly browser `confirm()` box with a beautifully styled and animated modal that fits the Prisma UI.
-   **One Click Action**: Clears all cached tabs from IndexedDB and automatically refreshes the page to reflect the changes.
-   **Real time Updates**: Uses a `MutationObserver` to instantly show or hide the button as you open and close tabs.

## Installation

To use this script, you first need a user script manager for your browser.

1.  **Install a User Script Manager**
    If you don't have one, install [Tampermonkey](https://www.tampermonkey.net/) for your browser:
    -   [Chrome](https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo)
    -   [Firefox](https://addons.mozilla.org/en-US/firefox/addon/tampermonkey/)
    -   [Edge](https://microsoftedge.microsoft.com/addons/detail/tampermonkey/iikmkjmpaadaobahmlepeloendndfphd)
    -   [Safari](https://apps.apple.com/us/app/tampermonkey/id1482490089)

2.  **Install the Script**
    Click the link below to install the script directly. Tampermonkey will open and ask you to confirm the installation.

    [**Install Prisma Studio Pro Tab Closer**](https://raw.githubusercontent.com/18jad/prisma-studio-tabs-closer/refs/heads/main/script.js)
    *(You must replace this URL with the raw link to the `.user.js` file in your own repository)*

    Alternatively, you can manually create a new script in Tampermonkey and paste the entire content of the `.user.js` file into the editor.

## Usage

1.  Open Prisma Studio in your browser (usually at `http://localhost:5555`).
2.  Open more than one model tab.
3.  The trash can icon will automatically appear in the header, to the left of the settings (gear) icon.
4.  Click the trash can icon.
5.  A confirmation modal will slide into view.
6.  Click **"Confirm"** to close all tabs and refresh the page, or **"Cancel"** to close the modal.

## Configuration & Maintenance

This script relies on CSS class names and selectors from the Prisma Studio web application.

> **Warning**
> Prisma Studio's class names are auto-generated by a CSS-in-JS library. They may change without warning in future Prisma Studio updates, which could cause the script to stop working (e.g., the button may not appear or may look wrong).

If the script breaks after an update, you will need to update the selectors in the script's code:

1.  Open Prisma Studio and use your browser's DevTools (Right-click > Inspect).
2.  Find the new class names for the header and the settings button.
3.  Edit the script in Tampermonkey and update these variables at the top of the file:
    -   `headerSelector`
    -   The `className` assigned to `clearTabsButton`

Additionally, if you run Prisma Studio on a different port, update the `@match` URL in the script's header:
```javascript
// ==UserScript==
// @match        http://localhost:6000/*  // Example for port 6000
// ==/UserScript==
```
